#!/bin/bash

#-(Source Files)--------------------------------------------------------------
__source__() {
	local hostname
	hostname=$(hostname)
	local file="$HOME/$hostname/$1"

	# Source common file only if second arg isn't set
	if [ "$#" -lt 2 ]; then
		# shellcheck source=/dev/null
		source "$HOME/$1" # Source common file first
	fi

	# Check if hostname-specific file exists
	if [[ -f "$file" ]]; then
		# shellcheck source=/dev/null
		source "$file"
	else
		echo "Unable to find priv files for $hostname.."
	fi
}

__source__ ".env"
__source__ ".alias"
__source__ ".rc" priv-only

#-(Create directories that might not exist but are required )-------------------

! [[ -d "$VENV_DIR" ]] && mkdir "$VENV_DIR"
! [[ -d "$CODE_DIR" ]] && mkdir "$CODE_DIR"
! [[ -d "$NOTES_DIR" ]] && mkdir "$NOTES_DIR"
! [[ -d "$STASH_DIR" ]] && mkdir "$STASH_DIR"

#-----------------------------------------------------------------------------

# Source Z script
[[ -r "$Z_SH_PATH" ]] && source "$Z_SH_PATH"

source $HOME/.functions
source $HOME/.completions
